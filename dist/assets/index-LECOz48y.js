(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();console.log("Autoškola JEĎ! – ready");document.addEventListener("DOMContentLoaded",()=>{const f=document.querySelector(".menu-toggle"),c=document.querySelector("nav"),n=document.body,u=document.querySelector("header"),t=document.getElementById("scroll-indicator");let s=!1;window.addEventListener("scroll",()=>{const e=window.scrollY;e>50?u.classList.add("scrolled"):u.classList.remove("scrolled"),t&&(e>100?s||(t.classList.add("flipped"),s=!0):s&&(t.classList.remove("flipped"),s=!1))}),t&&t.addEventListener("click",()=>{m(s?0:window.innerHeight)});const d=document.getElementById("scroll-indicator-bottom");let v=!1;d&&(window.addEventListener("scroll",()=>{const e=document.documentElement.scrollHeight,o=window.scrollY,a=window.innerHeight;e-o-a<200?v||(d.classList.add("flipped"),v=!0):v&&(d.classList.remove("flipped"),v=!1)}),d.addEventListener("click",()=>{if(v){const e=window.scrollY,o=Math.max(0,e-window.innerHeight);m(o)}else m(document.body.scrollHeight)}));function m(e,o=1500){const a=window.pageYOffset,h=e-a;let g=null;function B(l){g===null&&(g=l);const L=l-g,y=q(L,a,h,o);window.scrollTo(0,y),L<o&&requestAnimationFrame(B)}function q(l,L,y,b){return l/=b/2,l<1?y/2*l*l+L:(l--,-y/2*(l*(l-2)-1)+L)}requestAnimationFrame(B)}const p=document.getElementById("kontakt-btn");p&&p.addEventListener("click",e=>{e.preventDefault();const o=document.getElementById("kontakt");if(o){const a=o.offsetTop;m(a)}});const w=document.getElementById("cenik-btn"),i=document.getElementById("cenik-modal"),I=document.querySelector(".modal-close-sticky"),S=document.getElementById("kontakt-from-modal");w&&i&&(w.addEventListener("click",e=>{e.preventDefault(),i.classList.add("active"),n.style.overflow="hidden";const o=i.querySelector(".modal-content");o&&(o.scrollTop=0)}),I.addEventListener("click",()=>{i.classList.remove("active"),n.style.overflow=""}),i.addEventListener("click",e=>{e.target===i&&(i.classList.remove("active"),n.style.overflow="")}),S.addEventListener("click",e=>{e.preventDefault(),i.classList.remove("active"),n.style.overflow="";const o=document.getElementById("kontakt");if(o){const a=o.offsetTop;m(a)}}),document.addEventListener("keydown",e=>{e.key==="Escape"&&i.classList.contains("active")&&(i.classList.remove("active"),n.style.overflow="")}));const E=document.getElementById("gdpr-link"),r=document.getElementById("gdpr-modal"),k=document.querySelector(".gdpr-close");E&&r&&(E.addEventListener("click",e=>{e.preventDefault(),r.classList.add("active"),n.style.overflow="hidden";const o=r.querySelector(".modal-content");o&&(o.scrollTop=0)}),k&&k.addEventListener("click",()=>{r.classList.remove("active"),n.style.overflow=""}),r.addEventListener("click",e=>{e.target===r&&(r.classList.remove("active"),n.style.overflow="")}),document.addEventListener("keydown",e=>{e.key==="Escape"&&r.classList.contains("active")&&(r.classList.remove("active"),n.style.overflow="")})),f&&c&&(f.addEventListener("click",()=>{f.classList.toggle("active"),c.classList.toggle("active"),n.style.overflow=c.classList.contains("active")?"hidden":""}),c.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{f.classList.remove("active"),c.classList.remove("active"),n.style.overflow=""})}),document.addEventListener("click",e=>{c.classList.contains("active")&&!c.contains(e.target)&&!f.contains(e.target)&&(f.classList.remove("active"),c.classList.remove("active"),n.style.overflow="")}))});
